<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>flashQ - Live Playground</title>
  <meta name="description" content="Experience flashQ speed live. Push thousands of jobs, run benchmarks, and visualize the flow in real-time.">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="bg-grid"></div>
  <div class="bg-gradient"></div>

  <!-- Navigation -->
  <nav>
    <div class="container">
      <a href="/" class="logo">
        <span>‚ö°</span> flashQ
      </a>
      <div class="nav-links">
        <a href="/#features">Features</a>
        <a href="/docs/">Docs</a>
        <a href="/blog/">Blog</a>
        <a href="https://github.com/egeominotti/flashq" target="_blank">GitHub</a>
      </div>
    </div>
  </nav>

  <!-- Main Section -->
  <section class="playground-section">
    <div class="container">
      <!-- Header -->
      <header class="playground-header fade-in">
        <div class="header-badge">LIVE DEMO</div>
        <h1>flashQ Playground</h1>
        <p>Real-time job queue testing connected to <code>api.flashq.dev</code></p>
      </header>

      <!-- Connection Status -->
      <div class="connection-status fade-in" id="connectionStatus">
        <div class="status-dot"></div>
        <span class="status-text">Connecting...</span>
        <span class="status-url">api.flashq.dev</span>
      </div>

      <!-- Main Dashboard -->
      <div class="dashboard fade-in">
        <!-- Left Panel - Controls -->
        <div class="panel controls-panel">
          <div class="panel-header">
            <h3>Controls</h3>
          </div>

          <!-- Push Section -->
          <div class="control-section">
            <div class="section-title">
              <span class="icon">üì§</span>
              Push Jobs
            </div>
            <div class="input-group">
              <label>Queue</label>
              <input type="text" id="queueName" value="demo" placeholder="queue-name">
            </div>
            <div class="input-group">
              <label>Payload</label>
              <textarea id="jobData" rows="2">{"task": "process", "id": 1}</textarea>
            </div>
            <div class="input-row">
              <div class="input-group">
                <label>Priority</label>
                <input type="number" id="priority" value="0" min="0">
              </div>
              <div class="input-group">
                <label>Delay (ms)</label>
                <input type="number" id="delay" value="0" min="0">
              </div>
            </div>
            <button class="btn btn-primary" id="pushBtn">
              <span>Push Job</span>
            </button>
          </div>

          <!-- Benchmark Section -->
          <div class="control-section">
            <div class="section-title">
              <span class="icon">üöÄ</span>
              Stress Test
            </div>
            <div class="input-group">
              <label>Number of Jobs</label>
              <input type="number" id="benchmarkCount" value="1000" min="10" max="10000">
            </div>
            <button class="btn btn-danger" id="benchmarkBtn">
              <span>Run Benchmark</span>
            </button>
            <div class="benchmark-result hidden" id="benchmarkResult">
              <div class="result-item">
                <span class="label">Throughput</span>
                <span class="value" id="bmThroughput">-</span>
              </div>
              <div class="result-item">
                <span class="label">Total Time</span>
                <span class="value" id="bmTime">-</span>
              </div>
            </div>
          </div>

          <!-- Auto Worker Section -->
          <div class="control-section">
            <div class="section-title">
              <span class="icon">‚öôÔ∏è</span>
              Auto Worker
            </div>
            <p class="section-desc">Automatically process jobs from queue</p>
            <div class="input-group">
              <label>Worker Queue</label>
              <input type="text" id="workerQueue" value="demo" placeholder="queue-name">
            </div>
            <div class="input-group">
              <label>Concurrency</label>
              <input type="number" id="workerConcurrency" value="5" min="1" max="50">
            </div>
            <div class="worker-controls">
              <button class="btn btn-success" id="startWorkerBtn">
                <span>‚ñ∂ Start</span>
              </button>
              <button class="btn btn-secondary" id="stopWorkerBtn" disabled>
                <span>‚èπ Stop</span>
              </button>
            </div>
            <div class="worker-stats hidden" id="workerStats">
              <div class="stat-mini">
                <span class="label">Processed</span>
                <span class="value" id="workerProcessed">0</span>
              </div>
              <div class="stat-mini">
                <span class="label">Rate</span>
                <span class="value" id="workerRate">0/s</span>
              </div>
            </div>
          </div>

          <!-- Queue Actions -->
          <div class="control-section">
            <div class="section-title">
              <span class="icon">üéõÔ∏è</span>
              Queue Actions
            </div>
            <div class="input-group">
              <label>Target Queue</label>
              <input type="text" id="actionQueue" value="demo" placeholder="queue-name">
            </div>
            <div class="action-buttons">
              <button class="btn btn-sm btn-secondary" id="pauseBtn">Pause</button>
              <button class="btn btn-sm btn-secondary" id="resumeBtn">Resume</button>
              <button class="btn btn-sm btn-warning" id="drainBtn">Drain</button>
            </div>
          </div>
        </div>

        <!-- Center Panel - Visualization -->
        <div class="panel viz-panel">
          <!-- Stats Row -->
          <div class="stats-row">
            <div class="stat-card">
              <div class="stat-icon queued">üìã</div>
              <div class="stat-info">
                <span class="stat-value" id="statQueued">0</span>
                <span class="stat-label">Queued</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon processing">‚ö°</div>
              <div class="stat-info">
                <span class="stat-value" id="statProcessing">0</span>
                <span class="stat-label">Processing</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon completed">‚úÖ</div>
              <div class="stat-info">
                <span class="stat-value" id="statCompleted">0</span>
                <span class="stat-label">Completed</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon failed">‚ùå</div>
              <div class="stat-info">
                <span class="stat-value" id="statFailed">0</span>
                <span class="stat-label">Failed</span>
              </div>
            </div>
          </div>

          <!-- Pipeline Visualization -->
          <div class="pipeline-viz">
            <div class="pipeline-header">
              <h3>Job Pipeline</h3>
              <div class="throughput-badge" id="throughputBadge">
                <span class="throughput-value" id="throughputValue">0</span>
                <span class="throughput-unit">jobs/sec</span>
              </div>
            </div>
            <div class="pipeline">
              <div class="pipeline-stage" id="stagePush">
                <div class="stage-icon">üì§</div>
                <div class="stage-label">Push</div>
                <div class="stage-count" id="pushCount">0</div>
              </div>
              <div class="pipeline-arrow">
                <div class="arrow-line"></div>
                <div class="arrow-particles" id="particles1"></div>
              </div>
              <div class="pipeline-stage" id="stageQueue">
                <div class="stage-icon">üìã</div>
                <div class="stage-label">Queue</div>
                <div class="stage-count" id="queueCount">0</div>
              </div>
              <div class="pipeline-arrow">
                <div class="arrow-line"></div>
                <div class="arrow-particles" id="particles2"></div>
              </div>
              <div class="pipeline-stage" id="stageProcess">
                <div class="stage-icon">‚öôÔ∏è</div>
                <div class="stage-label">Process</div>
                <div class="stage-count" id="processCount">0</div>
              </div>
              <div class="pipeline-arrow">
                <div class="arrow-line"></div>
                <div class="arrow-particles" id="particles3"></div>
              </div>
              <div class="pipeline-stage completed" id="stageComplete">
                <div class="stage-icon">‚úÖ</div>
                <div class="stage-label">Complete</div>
                <div class="stage-count" id="completeCount">0</span>
              </div>
            </div>
          </div>

          <!-- Throughput Chart -->
          <div class="chart-container">
            <div class="chart-header">
              <h3>Throughput (jobs/sec)</h3>
              <span class="chart-legend">Last 60 seconds</span>
            </div>
            <div class="chart" id="throughputChart">
              <canvas id="chartCanvas"></canvas>
            </div>
          </div>
        </div>

        <!-- Right Panel - Activity -->
        <div class="panel activity-panel">
          <div class="panel-header">
            <h3>Activity Log</h3>
            <button class="btn-icon" id="clearLogBtn" title="Clear log">üóëÔ∏è</button>
          </div>
          <div class="activity-log" id="activityLog">
            <div class="log-entry info">
              <span class="log-time">--:--:--</span>
              <span class="log-msg">Waiting for activity...</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Toast -->
  <div class="toast" id="toast"></div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <a href="/" class="logo">
        <span>‚ö°</span> flashQ
      </a>
      <div class="footer-links">
        <a href="https://github.com/egeominotti/flashq" target="_blank">GitHub</a>
        <a href="https://npmjs.com/package/flashq" target="_blank">npm</a>
        <a href="/docs/">Docs</a>
      </div>
      <div class="footer-copy">
        &copy; <span id="year"></span> flashQ. MIT License.
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>
</html>
