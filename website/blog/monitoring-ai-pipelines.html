<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monitoring AI Pipelines: Metrics, Alerts, and Dashboards - flashQ Blog</title>
  <meta name="description" content="Set up comprehensive monitoring for your AI pipelines with Prometheus, Grafana, and flashQ. Track latency, throughput, errors, and costs.">
  <meta name="keywords" content="ai pipeline monitoring, prometheus metrics, grafana dashboard, job queue monitoring, observability">
  <meta name="robots" content="index, follow">

  <meta property="og:title" content="Monitoring AI Pipelines: Metrics, Alerts, and Dashboards">
  <meta property="og:description" content="Set up comprehensive monitoring for your AI pipelines.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://flashq.dev/blog/monitoring-ai-pipelines.html">
  <meta property="og:image" content="https://flashq.dev/og-image.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Monitoring AI Pipelines: Metrics, Alerts, and Dashboards">
  <meta name="twitter:image" content="https://flashq.dev/og-image.png">

  <meta property="article:published_time" content="2025-12-07">

  <link rel="canonical" href="https://flashq.dev/blog/monitoring-ai-pipelines.html">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Monitoring AI Pipelines: Metrics, Alerts, and Dashboards",
    "datePublished": "2025-12-07",
    "author": { "@type": "Organization", "name": "flashQ" }
  }
  </script>

  <!-- Breadcrumb Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://flashq.dev" },
      { "@type": "ListItem", "position": 2, "name": "Blog", "item": "https://flashq.dev/blog/" },
      { "@type": "ListItem", "position": 3, "name": "Monitoring AI Pipelines", "item": "https://flashq.dev/blog/monitoring-ai-pipelines.html" }
    ]
  }
  </script>
  <!-- Highlight.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
</head>
<body>
  <nav>
    <div class="container wide">
      <a href="../" class="logo"><span>‚ö°</span> flashQ</a>
      <div class="nav-links">
        <a href="../#features">Features</a>
        <a href="../blog/" class="active">Blog</a>
        <a href="../docs/">Docs</a>
        <a href="https://github.com/egeominotti/flashq" target="_blank">GitHub</a>
        <a href="../docs/#quickstart" class="btn btn-primary">Get Started</a>
      </div>
      <button class="mobile-menu-btn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <div class="mobile-menu">
    <a href="../#features">Features</a>
    <a href="../blog/">Blog</a>
    <a href="../docs/">Docs</a>
    <a href="https://github.com/egeominotti/flashq" target="_blank">GitHub</a>
    <a href="../docs/#quickstart" class="btn btn-primary">Get Started</a>
  </div>

  <header class="article-header header-ai">
    <div class="container">
      <span class="article-tag tutorial">Tutorial</span>
      <h1>Monitoring AI Pipelines: Metrics, Alerts, and Dashboards</h1>
      <div class="article-meta">
        <span>üìÖ December 7, 2025</span>
        <span>‚è±Ô∏è 10 min read</span>
      </div>
    </div>
  </header>

  <article class="article-content">
    <div class="container">
      <p>Running AI pipelines in production without proper monitoring is like flying blind. You need visibility into throughput, latency, error rates, and costs. In this guide, we'll set up comprehensive monitoring for flashQ using Prometheus and Grafana.</p>

      <h2>Why Monitor AI Pipelines?</h2>

      <p>AI workloads have unique monitoring challenges:</p>

      <ul>
        <li><strong>Variable latency</strong>: LLM calls can take 100ms to 60s depending on prompt length</li>
        <li><strong>Cost visibility</strong>: API calls cost money‚Äîyou need to track spend in real-time</li>
        <li><strong>Failure patterns</strong>: Rate limits, timeouts, and model errors need different handling</li>
        <li><strong>Throughput planning</strong>: Understanding job flow helps capacity planning</li>
      </ul>

      <h2>flashQ Metrics Overview</h2>

      <p>flashQ exposes Prometheus metrics at <code>/metrics/prometheus</code> when running with HTTP enabled:</p>

      <pre><code class="language-bash"># Start flashQ with HTTP API
HTTP=1 HTTP_PORT=6790 ./flashq-server</code></pre>

      <p>Available metrics include:</p>

      <table>
        <thead>
          <tr>
            <th>Metric</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>flashq_jobs_total</code></td>
            <td>Counter</td>
            <td>Total jobs by queue and status</td>
          </tr>
          <tr>
            <td><code>flashq_jobs_active</code></td>
            <td>Gauge</td>
            <td>Currently processing jobs</td>
          </tr>
          <tr>
            <td><code>flashq_jobs_waiting</code></td>
            <td>Gauge</td>
            <td>Jobs waiting in queue</td>
          </tr>
          <tr>
            <td><code>flashq_jobs_failed</code></td>
            <td>Counter</td>
            <td>Failed jobs (sent to DLQ)</td>
          </tr>
          <tr>
            <td><code>flashq_job_duration_seconds</code></td>
            <td>Histogram</td>
            <td>Job processing duration</td>
          </tr>
          <tr>
            <td><code>flashq_queue_depth</code></td>
            <td>Gauge</td>
            <td>Queue depth by queue name</td>
          </tr>
        </tbody>
      </table>

      <h2>Setting Up Prometheus</h2>

      <p>Create a <code>prometheus.yml</code> configuration:</p>

      <pre><code class="language-typescript">global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'flashq'
    static_configs:
      - targets: ['localhost:6790']
    metrics_path: '/metrics/prometheus'</code></pre>

      <p>Run Prometheus with Docker:</p>

      <pre><code class="language-bash">docker run -d \
  --name prometheus \
  -p 9090:9090 \
  -v ./prometheus.yml:/etc/prometheus/prometheus.yml \
  prom/prometheus</code></pre>

      <h2>Essential Grafana Dashboards</h2>

      <h3>1. Queue Health Dashboard</h3>

      <p>Monitor the overall health of your queues:</p>

      <pre><code class="language-bash"># Jobs per second (throughput)
rate(flashq_jobs_total[5m])

# Queue depth (waiting jobs)
flashq_jobs_waiting

# Active jobs
flashq_jobs_active

# Error rate
rate(flashq_jobs_failed[5m]) / rate(flashq_jobs_total[5m]) * 100</code></pre>

      <h3>2. Latency Dashboard</h3>

      <p>Track job processing times:</p>

      <pre><code class="language-bash"># P50 latency
histogram_quantile(0.5, rate(flashq_job_duration_seconds_bucket[5m]))

# P95 latency
histogram_quantile(0.95, rate(flashq_job_duration_seconds_bucket[5m]))

# P99 latency
histogram_quantile(0.99, rate(flashq_job_duration_seconds_bucket[5m]))</code></pre>

      <h3>3. AI Cost Dashboard</h3>

      <p>Track API costs with custom metrics:</p>

      <pre><code class="language-typescript">import { Counter, Histogram } from 'prom-client';

// Custom metrics for AI costs
const tokenCounter = new Counter({
  name: 'ai_tokens_total',
  help: 'Total tokens used',
  labelNames: ['model', 'type']  // type: input/output
});

const costCounter = new Counter({
  name: 'ai_cost_dollars',
  help: 'Total API cost in dollars',
  labelNames: ['model', 'queue']
});

// Track in worker
new Worker('llm-calls', async (job) => {
  const response = await openai.chat.completions.create(job.data);

  // Record metrics
  tokenCounter.inc(
    { model: job.data.model, type: 'input' },
    response.usage.prompt_tokens
  );
  tokenCounter.inc(
    { model: job.data.model, type: 'output' },
    response.usage.completion_tokens
  );

  const cost = calculateCost(job.data.model, response.usage);
  costCounter.inc({ model: job.data.model, queue: 'llm-calls' }, cost);

  return response;
});</code></pre>

      <h2>Setting Up Alerts</h2>

      <p>Create alerting rules for critical conditions:</p>

      <pre><code class="language-typescript">groups:
  - name: flashq_alerts
    rules:
      # High error rate
      - alert: HighErrorRate
        expr: rate(flashq_jobs_failed[5m]) > 0.1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High job failure rate"

      # Queue backing up
      - alert: QueueBacklog
        expr: flashq_jobs_waiting > 10000
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "Queue has large backlog"

      # High latency
      - alert: HighLatency
        expr: histogram_quantile(0.95, rate(flashq_job_duration_seconds_bucket[5m])) > 30
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "P95 latency above 30 seconds"

      # Budget exceeded
      - alert: DailyBudgetExceeded
        expr: increase(ai_cost_dollars[24h]) > 100
        labels:
          severity: critical
        annotations:
          summary: "Daily AI spend exceeded $100"</code></pre>

      <h2>Application-Level Monitoring</h2>

      <p>Beyond infrastructure metrics, monitor application behavior:</p>

      <pre><code class="language-typescript">const queue = new Queue('ai-pipeline');

// Log all job completions
queue.on('completed', (job, result) => {
  console.log(JSON.stringify({
    event: 'job_completed',
    jobId: job.id,
    queue: 'ai-pipeline',
    duration: Date.now() - job.timestamp,
    resultSize: JSON.stringify(result).length
  }));
});

// Track failures with context
queue.on('failed', (job, error) => {
  console.error(JSON.stringify({
    event: 'job_failed',
    jobId: job.id,
    queue: 'ai-pipeline',
    error: error.message,
    attempt: job.attemptsMade,
    data: job.data
  }));
});

// Monitor progress for long jobs
queue.on('progress', (job, progress) => {
  console.log(JSON.stringify({
    event: 'job_progress',
    jobId: job.id,
    progress: progress.percent,
    message: progress.message
  }));
});</code></pre>

      <h2>Real-Time Dashboard with WebSocket</h2>

      <p>flashQ supports WebSocket for real-time updates:</p>

      <pre><code class="language-typescript">const ws = new WebSocket('ws://localhost:6790/ws?token=YOUR_TOKEN');

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);

  switch (data.type) {
    case 'job:completed':
      updateCompletedCount(data.queue);
      break;
    case 'job:failed':
      showErrorAlert(data.jobId, data.error);
      break;
    case 'queue:stats':
      updateDashboard(data.stats);
      break;
  }
};</code></pre>

      <h2>Monitoring Checklist</h2>

      <p>Before going to production, ensure you have:</p>

      <ul>
        <li>‚úÖ Prometheus scraping flashQ metrics</li>
        <li>‚úÖ Grafana dashboards for queues, latency, and costs</li>
        <li>‚úÖ Alerts for high error rate, queue backlog, and budget</li>
        <li>‚úÖ Structured logging for job events</li>
        <li>‚úÖ DLQ monitoring and alerting</li>
        <li>‚úÖ Cost tracking per model and queue</li>
      </ul>

      <div class="callout callout-info">
        <div class="callout-title">üí° Pro Tip</div>
        <p>Set up a daily report that summarizes jobs processed, errors, and total API spend. This helps catch trends before they become problems.</p>
      </div>

      <h2>Conclusion</h2>

      <p>Good monitoring is the foundation of reliable AI systems. With flashQ's built-in Prometheus metrics and the patterns in this guide, you'll have full visibility into your AI pipelines. Start with the basics and iterate based on what you learn from your data.</p>

      <div class="article-cta">
        <h3>Start Monitoring</h3>
        <p>Enable HTTP API and start collecting metrics today.</p>
        <a href="../docs/#monitoring" class="btn btn-primary">Read the Docs ‚Üí</a>
      </div>
    </div>
  </article>

  <footer>
    <div class="container wide">
      <a href="../" class="logo"><span>‚ö°</span> flashQ</a>
      <div class="footer-links">
        <a href="https://github.com/egeominotti/flashq" target="_blank">GitHub</a>
        <a href="https://npmjs.com/package/flashq" target="_blank">npm</a>
        <a href="../docs/">Docs</a>
        <a href="../blog/">Blog</a>
      </div>
      <div class="footer-copy">¬© <span id="year"></span> flashQ. MIT License.</div>
    </div>
  </footer>
  <script>
    const mobileMenuBtn = document.querySelector(".mobile-menu-btn");
    const mobileMenu = document.querySelector(".mobile-menu");
    document.getElementById("year").textContent = new Date().getFullYear();
    mobileMenuBtn.addEventListener("click", () => {
      mobileMenuBtn.classList.toggle("active");
      mobileMenu.classList.toggle("active");
      document.body.style.overflow = mobileMenu.classList.contains("active") ? "hidden" : "";
    });
    mobileMenu.querySelectorAll("a").forEach(link => {
      link.addEventListener("click", () => {
        mobileMenuBtn.classList.remove("active");
        mobileMenu.classList.remove("active");
        document.body.style.overflow = "";
      });
    });
  </script>
  <script>hljs.highlightAll();</script>
</body>
</html>
